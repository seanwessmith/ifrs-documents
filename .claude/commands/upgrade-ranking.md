Implement procedural-first scoring.

Steps: instrument features, add score function, add tests with canned fixtures, verify with snapshots, commit.